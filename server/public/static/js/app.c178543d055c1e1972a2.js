webpackJsonp([1],{"0CSe":function(t,e){},"5+O1":function(t,e){},KmxL:function(t,e){},LUXl:function(t,e){},NCTk:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={};n.d(o,"login",function(){return v}),n.d(o,"logout",function(){return g}),n.d(o,"title",function(){return _});var i=n("MVMM"),r=n("4YfN"),s=n.n(r),a=n("9rMa"),u={data:function(){return{}},computed:s()({},Object(a.b)({title:function(t){return t.title},token:function(t){return t.token}})),methods:{logout:function(){this.$store.commit("logout"),this.$router.push({path:"/"})}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("div",{staticClass:"w header-inner"},[e("div",{staticClass:"icon-wrapper"},[e("i",{staticClass:"fa fa-github"}),this._v("\n      "+this._s(this.title)+"\n    ")]),this._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:this.token,expression:"token"}],staticClass:"logout",attrs:{href:"javascript:void(0);"},on:{click:this.logout}},[this._v("logout")])])])},staticRenderFns:[]};var l={components:{VHeader:n("Z0/y")(u,c,!1,function(t){n("KmxL")},"data-v-cb699ba8",null).exports},created:function(){}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var f,d=n("Z0/y")(l,p,!1,function(t){n("0CSe")},null,null).exports,h=n("zO6J"),m={user:{},token:null,title:""},v=function(t){return t.login},g=function(t){return t.logout},_=function(t){return t.title},k=n("a3Yh"),C=n.n(k),b=(f={},C()(f,"login",function(t,e){localStorage.setItem("token",e),t.token=e}),C()(f,"logout",function(t){localStorage.removeItem("token"),t.token=null}),C()(f,"title",function(t,e){t.title=e}),f);i.a.use(a.a);var w=new a.a.Store({state:m,getters:o,mutations:b}),y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w"},[e("router-link",{attrs:{to:"/repository"}},[e("button",{staticClass:"view-rep-btn"},[this._v("view your repositories")])])],1)},staticRenderFns:[]};var $=n("Z0/y")({created:function(){this.$store.commit("title","index")}},y,!1,function(t){n("u6/I")},"data-v-72215adb",null).exports,x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w repository"},[n("ul",t._l(t.list,function(e,o){return n("li",{key:o,staticClass:"item"},[n("div",{staticClass:"item-top"},[n("div",{staticClass:"item-top-left"},[n("h2",[t._v(t._s(e.name))]),t._v(" "),n("p",[t._v(t._s(e.description))])]),t._v(" "),n("img",{attrs:{src:e.owner.avatar_url,alt:"",width:"60",height:"60"}})]),t._v(" "),n("div",{staticClass:"item-bottom"},[n("i",{staticClass:"fa fa-map-marker"}),t._v(" "),n("span",[t._v(t._s(e.language))]),t._v(" "),n("i",{staticClass:"fa fa-clock-o"}),t._v(" "),n("span",[t._v(t._s(e.updated_at))])])])}))])},staticRenderFns:[]};var R=n("Z0/y")({data:function(){return{list:[]}},created:function(){this.$store.commit("title","Repositories"),this.getRepositoryList()},methods:{getRepositoryList:function(){var t=this;this.$axios.get("/user/repos",{params:{sort:"updated"}}).then(function(e){t.list=e.data})}}},x,!1,function(t){n("LUXl")},"data-v-7454174e",null).exports,T={data:function(){return{inputToken:""}},created:function(){this.$store.commit("title","login")},methods:{login:function(){if(this.inputToken){this.$store.commit("login",this.inputToken);var t=decodeURIComponent(this.$route.query.redirect||"/");this.$router.push({path:t})}else alert("请输入token")}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w"},[n("div",{staticClass:"login"},[n("form",{staticClass:"login-form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.login(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputToken,expression:"inputToken",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"Github Personal Token(Press Enter)"},domProps:{value:t.inputToken},on:{input:function(e){e.target.composing||(t.inputToken=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("a",{staticClass:"generate-link",attrs:{href:"https://github.com/settings/tokens/new",target:"_blank"}},[t._v("generate your token")])])])},staticRenderFns:[]};var E=n("Z0/y")(T,N,!1,function(t){n("NCTk")},"data-v-10d2bc56",null).exports;i.a.use(h.a);var I=[{path:"/",component:$},{path:"/repository",component:R,meta:{requireAuth:!0}},{path:"/login",component:E}];localStorage.getItem("token")&&w.commit("login",localStorage.getItem("token"));var L=new h.a({routes:I});L.beforeEach(function(t,e,n){t.meta.requireAuth?w.state.token?n():n({path:"/login",query:{redirect:t.fullPath}}):n()});var P=L,S=(n("5+O1"),n("fWXo"),n("rVsN")),q=n.n(S),j=n("aozt"),A=n.n(j);A.a.defaults.timeout=5e3,A.a.defaults.baseURL="https://api.github.com",A.a.interceptors.request.use(function(t){return w.state.token&&(t.headers.Authorization="token "+w.state.token),t},function(t){return q.a.reject(t)}),A.a.interceptors.response.use(function(t){return t},function(t){return 401===t.response.status&&(w.commit("login"),P.replace({path:"login",query:{redirect:P.currentRoute.fullPath}})),q.a.reject(t.response.data)});var F=A.a;i.a.prototype.$axios=F,new i.a({el:"#app",router:P,store:w,components:{App:d},template:"<App/>"})},fWXo:function(t,e){},"u6/I":function(t,e){}},["NHnr"]);